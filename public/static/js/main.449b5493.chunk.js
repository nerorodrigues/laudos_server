(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{366:function(e,a,t){e.exports=t(650)},376:function(e,a,t){},377:function(e,a,t){},378:function(e,a,t){},379:function(e,a,t){},536:function(e,a){},538:function(e,a){},574:function(e,a){},575:function(e,a){},638:function(e,a,t){},639:function(e,a,t){},650:function(e,a,t){"use strict";t.r(a);t(367);var n=t(0),i=t.n(n),r=t(90),l=t.n(r),o=t(23),c=t(24),s=t(25),u=t(26),d=t(18),m=t(27),h=t(37),p=t(163),b=t(75),v=t(60),E=t.n(v),f=t(660);function g(){var e=Object(b.a)(["\n    query listarExames{\n        listarExames{\n            id,\n            protocolo,\n            dataExame,\n            nome,\n            dataCadastro,\n            exameUrl,\n            laudoUrl\n        }\n    }\n"]);return g=function(){return e},e}var O=E()(g()),C=function(e){var a=e.children;return i.a.createElement(f.a,{query:O},a)},j=t(665),x=t(662),k=t(667),y=t(164),S=(t(376),t(377),function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(s.a)(this,Object(u.a)(a).call(this,e))).dragHandler=t.dragHandler.bind(Object(d.a)(t)),t.onChangeHandler=t.onChangeHandler.bind(Object(d.a)(t)),t.state={filename:"",isOver:!1},t}return Object(m.a)(a,e),Object(c.a)(a,[{key:"dragHandler",value:function(e){if(e.preventDefault(),e.stopPropagation(),console.log(e.type),"drop"===e.type||"dragleave"===e.type?this.setState({isOver:!1}):this.setState({isOver:!0}),"drop"===e.type&&1===e.dataTransfer.items.length){var a=e.dataTransfer.files[0];a&&this.updateFile(a)}}},{key:"onChangeHandler",value:function(e){this.setState({filename:e.target.files[0].name}),this.props.onChange&&this.props.onChange(e)}},{key:"render",value:function(){return i.a.createElement("div",{className:this.state.isOver?"upload-box has-advanced-upload is-dragover":"upload-box has-advanced-upload",onDrag:this.dragHandler,onDragStart:this.dragHandler,onDragEnd:this.dragHandler,onDragOver:this.dragHandler,onDragEnter:this.dragHandler,onDragLeave:this.dragHandler,onDrop:this.dragHandler},i.a.createElement("i",{"aria-hidden":"true",className:"huge upload icon"}),i.a.createElement("div",null,i.a.createElement("input",{id:"file",type:"file",multiple:!1,required:!0,onChange:this.onChangeHandler}),i.a.createElement("label",{htmlFor:"file"},this.state.filename?this.state.filename:i.a.createElement("div",null,i.a.createElement("strong",null,"Selecione um arquivo"),i.a.createElement("span",null," ou solte o aqui")))))}}]),a}(i.a.Component)),N=t(119),I=E()("\n    mutation salvarExame($exame: ExameInput!){\n        salvarExame(exame: $exame){\n            id,\n            protocolo,\n            nome,\n            dataExame\n        }\n    }\n"),w=function(e){var a=e.children,t=Object(N.a)(I),n=Object(y.a)(t,2);return a(n[0],n[1])},H=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(s.a)(this,Object(u.a)(a).call(this,e))).handleFile=t.handleFile.bind(Object(d.a)(t)),t.handleInputChange=t.handleInputChange.bind(Object(d.a)(t)),t.submitHandle=t.submitHandle.bind(Object(d.a)(t)),t.state={nome:"",protocolo:"",dataExame:"",possuiMarcapasso:!1,observacoes:"",exameFile:null,processando:!1},t}return Object(m.a)(a,e),Object(c.a)(a,[{key:"handleFile",value:function(e){var a=this,t=e.target,n=(t.validity,Object(y.a)(t.files,1)[0]);if(FileReader&&n){var i=new FileReader;i.onloadend=function(){a.setState({exameFile:n})},i&&i.readAsDataURL(n)}}},{key:"handleInputChange",value:function(e){var a=e.target,t="checkbox"===a.type?a.checked:a.value,n=a.name;this.setState(Object(h.a)({},n,t))}},{key:"submitHandle",value:function(e){var a=this;e.preventDefault(),this.setState({processando:!0}),this.props.mutation({variables:{exame:{exameFile:this.state.exameFile,protocolo:this.state.protocolo,dataExame:this.state.dataExame,nome:this.state.nome,possuiMarcapasso:this.state.possuiMarcapasso,observacoes:this.state.observacoes}}}).then((function(e){a.props.onSubmited&&a.props.onSubmited({status:"Sucesso",result:e.data.salvarExame,message:"Novo cadastro de exame para ".concat(a.state.nome," finalizado com sucesso.")})})).catch((function(e){a.props.onSubmited&&a.props.onSubmited({status:"Sucesso",result:e,message:"Ocorreu um erro ao realizar o cadastro do exame."})}))}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("form",{className:"ui form dimmable",onSubmit:this.submitHandle},i.a.createElement("div",{className:"ui inverted dimmer ".concat(this.state.processando?"active":"")},i.a.createElement("div",{className:"content"},i.a.createElement("div",{className:"ui text loader"},"Salvando Registro"))),i.a.createElement("div",{className:"field"},i.a.createElement(S,{onChange:this.handleFile})),i.a.createElement("div",{className:"fields"},i.a.createElement("div",{className:"inline fluid field"},i.a.createElement("label",null,"Protocolo:"),i.a.createElement("input",{type:"text",name:"protocolo",required:!0,value:this.state.protocolo,onChange:this.handleInputChange})),i.a.createElement("div",{className:"inline field"},i.a.createElement("label",null,"Data Exame"),i.a.createElement("input",{name:"dataExame",type:"date",required:!0,value:this.state.dataExame,onChange:this.handleInputChange}))),i.a.createElement("div",{className:"field"},i.a.createElement("label",null,"Nome"),i.a.createElement("input",{className:"ui input",type:"text",required:!0,name:"nome",value:this.state.nome,onChange:this.handleInputChange})),i.a.createElement("h3",{className:"ui dividing header"},"Informa\xe7\xf5es Opcionais"),i.a.createElement("div",{className:"field"},i.a.createElement("div",{className:"ui toggle checkbox"},i.a.createElement("input",{type:"checkbox",tabIndex:"0",value:this.state.possuiMarcapasso,onChange:this.handleInputChange}),i.a.createElement("label",null,"Possui Marca-passo?"))),i.a.createElement("div",{className:"field"},i.a.createElement("label",null,"Outras Observa\xe7\xf5es:"),i.a.createElement("textarea",{id:"info",rows:"5",name:"observacoes",value:this.state.observacoes,onChange:this.handleInputChange})),i.a.createElement("div",{className:"field"},i.a.createElement("input",{type:"submit",className:"ui fluid green button",value:"Cadastrar"}))))}}]),a}(i.a.Component),T=function(e){var a=e.onSubmited;return i.a.createElement(w,null,(function(e,t){var n=Object.assign({},t);return i.a.createElement(H,Object.assign({onSubmited:a,mutation:e},n))}))};t(378);function P(){var e=Object(b.a)(["\n    subscription onLaudoSalvo($id: ID){\n        laudoSalvo(id: $id){\n            id,\n            nome,\n            protocolo,\n            dataExame\n            dataCadastro,\n            exameUrl,\n            laudoUrl\n        }\n    }\n"]);return P=function(){return e},e}var D=E()(P()),A=t(327),F=(t(379),function(e){function a(e){return Object(o.a)(this,a),Object(s.a)(this,Object(u.a)(a).call(this,e))}return Object(m.a)(a,e),Object(c.a)(a,[{key:"render",value:function(){return i.a.createElement("div",{key:this.props.data.id,className:"ui yellow card fade left"},i.a.createElement("div",{className:"content"},i.a.createElement("div",{className:"header"},i.a.createElement("div",{className:"light label inline"},i.a.createElement("label",null,"Protocolo:"),i.a.createElement("div",null,this.props.data.protocolo)),i.a.createElement("div",{className:"label inline"},this.props.data.nome)),i.a.createElement("div",{className:"meta"},i.a.createElement("div",{className:"ui ribbon label"},"Cadastro Realizado em ".concat(this.props.data.dataCadastro))),i.a.createElement("div",{className:"description bottom"},this.props.laudoUrl?i.a.createElement("a",{href:this.props.laudoUrl},"Baixar Laudo"):i.a.createElement("a",{href:this.props.exameUrl},"Baixar Exame"))),i.a.createElement("div",{className:"extra content"},i.a.createElement("button",{className:"ui primary small button btn-default"},"Ver"),i.a.createElement("button",{className:"ui small button btn-default"},"Remover")))}}]),a}(i.a.Component)),z=function(e){function a(e){return Object(o.a)(this,a),Object(s.a)(this,Object(u.a)(a).call(this,e))}return Object(m.a)(a,e),Object(c.a)(a,[{key:"render",value:function(){return i.a.createElement("div",{className:"ui doubling four stackable tiny cards"},i.a.createElement(A.a,{duration:500},this.props.data.map((function(e){return i.a.createElement(F,{key:e.id,data:e})}))))}}]),a}(i.a.Component),L=t(5),M=t.n(L),q=function(e,a){return e&&a},U=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(s.a)(this,Object(u.a)(a).call(this,e))).onClickHandler=t.onClickHandler.bind(Object(d.a)(t)),t.state={className:""},t}return Object(m.a)(a,e),Object(c.a)(a,[{key:"onClickHandler",value:function(e){this.props.onSelect&&this.props.data&&this.props.onSelect(this.props.data)}},{key:"render",value:function(){var e=this.props,a=e.active,t=e.className,n=(e.id,M()("item",q(a,"active"),t));return i.a.createElement("div",{role:"listitem",className:n,onClick:this.onClickHandler},this.props.children)}}]),a}(i.a.Component),R=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(s.a)(this,Object(u.a)(a).call(this,e))).onSelectionChangeHandler=t.onSelectionChangeHandler.bind(Object(d.a)(t)),t.state={selectedValue:t.props.selectValue},t}return Object(m.a)(a,e),Object(c.a)(a,[{key:"onSelectionChangeHandler",value:function(e){this.setState({selectedValue:e.id}),this.props.onSelectionChanged&&this.props.onSelectionChanged(e)}},{key:"render",value:function(){var e=this,a=this.props,t=a.size,n=a.className,r=a.animated,l=a.divided,o=a.relaxed,c=a.selection,s=M()("ui",q(r,"animated"),q(l,"divided"),q(o,"relaxed"),q(c,"selection"),t,"list",n),u=this.props.children;return u=u.map((function(a){var t,n;return i.a.cloneElement(a,{active:null!==(t=a.props.data.id===(null===(n=e.state)||void 0===n?void 0:n.selectedValue))&&void 0!==t&&t,onSelect:e.onSelectionChangeHandler})})),i.a.createElement("div",null,i.a.createElement("div",{role:"list",className:s},u))}}]),a}(i.a.Component);R.Item=U;var V=R,B=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(s.a)(this,Object(u.a)(a).call(this,e))).buttonClickHandler=t.buttonClickHandler.bind(Object(d.a)(t)),t.cadastrarExameCloseHandler=t.cadastrarExameCloseHandler.bind(Object(d.a)(t)),t.modoExibicao=t.modoExibicao.bind(Object(d.a)(t)),t.handleInputChange=t.handleInputChange.bind(Object(d.a)(t)),t.filtrar=t.filtrar.bind(Object(d.a)(t)),t.submitHandle=t.submitHandle.bind(Object(d.a)(t)),t.cadastroFinalizadoHandler=t.cadastroFinalizadoHandler.bind(Object(d.a)(t)),t.state={isCadastrarExameOpen:!1,isCadastroFinalizadoModalOpen:!1,exibicaoTabela:!0,filter:"",cadastraExameResult:null},t.props.subscribeToMore({document:D,variables:{id:1},updateQuery:function(e,a){var t=a.subscriptionData;if(!t.data)return e;var n=t.data.laudoSalvo;return e.listarExames.find((function(e){return e.id===n.id}))?e:Object.assign({},e,{listarExames:Object.assign([],e.listarExames,[].concat(Object(p.a)(e.listarExames),[n]))})}}),t}return Object(m.a)(a,e),Object(c.a)(a,[{key:"buttonClickHandler",value:function(){this.setState({isCadastrarExameOpen:!this.state.isCadastrarExameOpen})}},{key:"cadastrarExameCloseHandler",value:function(){this.setState({isCadastrarExameOpen:!1})}},{key:"modoExibicao",value:function(e){this.setState({exibicaoTabela:e})}},{key:"handleInputChange",value:function(e){var a=e.target,t="checkbox"===a.type?a.checked:a.value,n=a.name;this.setState(Object(h.a)({},n,t))}},{key:"filtrar",value:function(e){return e.protocolo.match(this.state.filter)||e.nome.match(this.state.filter)}},{key:"submitHandle",value:function(e){this.setState({isCadastrarExameOpen:!1,isCadastroFinalizadoModalOpen:!0,cadastraExameResult:e})}},{key:"cadastroFinalizadoHandler",value:function(){this.setState({isCadastroFinalizadoModalOpen:!1})}},{key:"render",value:function(){var e,a,t,n=this;if(this.props.loading)return i.a.createElement("div",null,"Loading...");if(this.props.error)return i.a.createElement("div",null,"Erro...");var r=this.props.data.listarExames;return this.state.filter&&(r=this.resultList.filter(this.filtrar)),i.a.createElement("div",null,i.a.createElement("div",{className:"ui menu"},i.a.createElement("a",{className:"item",onClick:this.buttonClickHandler},i.a.createElement("i",{"aria-hidden":"true",className:"add icon"}),"Novo Exame"),i.a.createElement("div",{className:"right menu"},i.a.createElement(j.a.Item,{active:!this.state.exibicaoTabela,onClick:function(){return n.modoExibicao(!1)}},i.a.createElement("i",{"aria-hidden":"true",className:"icon list"})),i.a.createElement(j.a.Item,{active:this.state.exibicaoTabela,onClick:function(){return n.modoExibicao(!0)}},i.a.createElement("i",{"aria-hidden":"true",className:"icon th"})),i.a.createElement("div",{className:"item"},i.a.createElement("div",{className:"ui icon input"},i.a.createElement("input",{type:"text",placeholder:"Filtro",name:"filter",value:this.state.filter,onChange:this.handleInputChange}),i.a.createElement("i",{"aria-hidden":"true",className:"search icon"}))))),i.a.createElement("div",{className:"ui segment"},i.a.createElement("div",null,"Total de Registros: ",this.props.data.listarExames.length),i.a.createElement("div",{className:"tabelaContainer"},this.state.exibicaoTabela?i.a.createElement(z,{data:r}):i.a.createElement(V,{data:r}))),i.a.createElement(x.a,{onClose:this.cadastrarExameCloseHandler,open:this.state.isCadastrarExameOpen},i.a.createElement(k.a,{icon:"upload",content:"Cadastrar novo exame"}),i.a.createElement(x.a.Content,null,i.a.createElement(T,{onSubmited:this.submitHandle}))),i.a.createElement(x.a,{onClose:this.cadastroFinalizadoHandler,open:this.state.isCadastroFinalizadoModalOpen},i.a.createElement(k.a,{icon:"Sucesso"===(null===(e=this.state)||void 0===e?void 0:null===(a=e.cadastraExameResult)||void 0===a?void 0:a.status)?"green icon check":"red icon thumbs down"}),i.a.createElement(x.a.Content,null,i.a.createElement("div",null,null===(t=this.state.cadastraExameResult)||void 0===t?void 0:t.message))))}}]),a}(i.a.Component),Q=function(){return i.a.createElement(C,null,(function(e){var a=Object.assign({},e);return i.a.createElement(B,a)}))};function $(){var e=Object(b.a)(["\n    query getCompanies{\n        getCompanies{\n            id\n            name\n        }\n    }\n"]);return $=function(){return e},e}var G=E()($()),J=function(e){var a=e.children;return i.a.createElement(f.a,{query:G},a)},W=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(s.a)(this,Object(u.a)(a).call(this,e))).selectionChangedHandler=t.selectionChangedHandler.bind(Object(d.a)(t)),t}return Object(m.a)(a,e),Object(c.a)(a,[{key:"selectionChangedHandler",value:function(e){this.props.onSelectionChanged&&this.props.onSelectionChanged(e)}},{key:"render",value:function(){return this.props.loading?i.a.createElement("div",null,"Loading..."):this.props.error?i.a.createElement("div",null,"Erro..."):i.a.createElement(V,{size:"huge",animated:!0,selection:!0,relaxed:!0,divided:!0,on:!0,onSelectionChanged:this.selectionChangedHandler},this.props.data.getCompanies.map((function(e){return i.a.createElement(V.Item,{key:e.id,data:e},e.name)})))}}]),a}(i.a.Component),Y=function(e){var a=Object.assign({},e);return i.a.createElement(J,null,(function(e){var t=Object.assign({},e);return i.a.createElement(W,Object.assign({},t,a))}))};function K(){var e=Object(b.a)(["\n    query listarExamesPorCliente($companyId: ID){\n        listarExamesPorCliente(companyId: $companyId){\n            id,\n            protocolo,\n            dataExame,\n            nome,\n            dataCadastro,\n            exameUrl,\n            laudoUrl\n        }\n    }\n"]);return K=function(){return e},e}var X=E()(K()),_=function(e){var a=e.children,t=e.variables;return i.a.createElement(f.a,{variables:t,query:X},a)},Z=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(s.a)(this,Object(u.a)(a).call(this,e))).filtrar=t.filtrar.bind(Object(d.a)(t)),t.state={exibicaoTabela:!0,filter:""},console.log(1),t}return Object(m.a)(a,e),Object(c.a)(a,[{key:"componentDidMount",value:function(){this.props.refetch(),console.log(1),this.props.subscribeToMore({document:D,variables:{id:1},updateQuery:function(e,a){var t=a.subscriptionData;if(!t.data)return e;var n=t.data.laudoSalvo;return e.listarExames.find((function(e){return e.id===n.id}))?e:Object.assign({},e,{listarExames:Object.assign([],e.listarExames,[].concat(Object(p.a)(e.listarExames),[n]))})}})}},{key:"filtrar",value:function(e){return e.protocolo.match(this.state.filter)||e.nome.match(this.state.filter)}},{key:"render",value:function(){var e,a;if(this.props.loading)return i.a.createElement("div",null,"Loading...");if(this.props.error)return i.a.createElement("div",null,"Erro...");var t=this.props.data.listarExamesPorCliente;return this.state.filter&&t&&(t=t.filter(this.filtrar)),i.a.createElement("div",{className:"ui segment"},i.a.createElement("div",null,"Total de Registros: ",this.props.data.listarExamesPorCliente.length),i.a.createElement("div",null,"Empresa: ",null!==(e=null===(a=this.props.selectedCompany)||void 0===a?void 0:a.name)&&void 0!==e?e:"Todas"),i.a.createElement("div",{className:"tabelaContainer"},this.props.exibicaoTabela?i.a.createElement(z,{duration:500,data:t}):i.a.createElement(V,{data:t})))}}]),a}(i.a.Component),ee=function(e){var a=Object.assign({},e);return i.a.createElement(_,{variables:a.variables},(function(e){var t=Object.assign({},e);return i.a.createElement(Z,Object.assign({},t,a))}))},ae=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(s.a)(this,Object(u.a)(a).call(this,e))).modoExibicao=t.modoExibicao.bind(Object(d.a)(t)),t.handleInputChange=t.handleInputChange.bind(Object(d.a)(t)),t.companySelectionChanged=t.companySelectionChanged.bind(Object(d.a)(t)),t.state={exibicaoTabela:!0,selectedCompany:null},t}return Object(m.a)(a,e),Object(c.a)(a,[{key:"componentDidMount",value:function(){this.state={exibicaoTabela:!0}}},{key:"modoExibicao",value:function(e){this.setState({exibicaoTabela:e})}},{key:"handleInputChange",value:function(e){var a=e.target,t="checkbox"===a.type?a.checked:a.value,n=a.name;this.setState(Object(h.a)({},n,t))}},{key:"companySelectionChanged",value:function(e){this.setState({selectedCompany:e})}},{key:"getVariableValues",value:function(){var e,a,t;return{companyId:null!==(e=null===(a=this.state)||void 0===a?void 0:null===(t=a.selectedCompany)||void 0===t?void 0:t.id)&&void 0!==e?e:null}}},{key:"render",value:function(){var e,a,t=this;return i.a.createElement("div",null,i.a.createElement("div",{className:"ui menu"},i.a.createElement("div",{className:"right menu"},i.a.createElement(j.a.Item,{active:!this.state.exibicaoTabela,onClick:function(){return t.modoExibicao(!1)}},i.a.createElement("i",{"aria-hidden":"true",className:"icon list"})),i.a.createElement(j.a.Item,{active:this.state.exibicaoTabela,onClick:function(){return t.modoExibicao(!0)}},i.a.createElement("i",{"aria-hidden":"true",className:"icon th"})),i.a.createElement("div",{className:"item"},i.a.createElement("div",{className:"ui icon input"},i.a.createElement("input",{type:"text",placeholder:"Filtro",name:"filter",value:this.state.filter,onChange:this.handleInputChange}),i.a.createElement("i",{"aria-hidden":"true",className:"search icon"}))))),i.a.createElement("div",{className:"ui divided grid"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"four wide column"},i.a.createElement("div",{className:"ui segment"},i.a.createElement(Y,{onSelectionChanged:this.companySelectionChanged}))),i.a.createElement("div",{className:"twelve wide column"},i.a.createElement(ee,{variables:{companyId:null===(e=this.state)||void 0===e?void 0:null===(a=e.selectedCompany)||void 0===a?void 0:a.id},selectedCompany:this.state.selectedCompany,exibicaoTabela:this.state.exibicaoTabela})))))}}]),a}(i.a.Component),te=function(){return i.a.createElement(ae,null)},ne=t(668),ie=t(329),re=t(661),le=t(669),oe=t(664),ce=t(663),se=t(79),ue=t(216),de=t.n(ue),me=Object({NODE_ENV:"production",PUBLIC_URL:""}).PUBLIC_KEY||"-----BEGIN PUBLIC KEY-----\nMFwwDQYJKoZIhvcNAQEBBQADSwAwSAJBALns1DW2lVs/Cjk9nVxBzG8Gn0QIF8wH\n1LotLwuOk+lgVXZiXzkbMXxDzj3rEP0aVY0ATtqWxWcjurJXwqViLF0CAwEAAQ==\n-----END PUBLIC KEY-----",he={algorithm:"RS256",issuer:"laudos"};function pe(){var e=localStorage.getItem("AuthToken");if(!e)return!1;try{return de.a.verify(e,me,he)}catch(a){return e&&localStorage.removeItem("AuthToken"),!1}}var be=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(s.a)(this,Object(u.a)(a).call(this,e))).handleSubmit=t.handleSubmit.bind(Object(d.a)(t)),t.handleInputChange=t.handleInputChange.bind(Object(d.a)(t)),t.state={error:!1,duration:800,userName:"",password:"",isLogged:!1},t}return Object(m.a)(a,e),Object(c.a)(a,[{key:"handleSubmit",value:function(e){var a=this;e.preventDefault(),fetch("https://laudos.herokuapp.com/login",{method:"post",credentials:"include",headers:{"Content-type":"application/x-www-form-urlencoded; charset=UTF-8"},body:"userName=".concat(this.state.userName,"&password=").concat(this.state.password)}).then((function(e){if(200===e.status)return e.json();throw new Error(e.Message)}),(function(e){return a.setState({error:!0}),e})).then((function(e){a.setState({isLogged:!0}),localStorage.setItem("AuthToken",e.token),a.props.componentCallback(!0)})).catch((function(e){a.setState({error:!0})}))}},{key:"handleInputChange",value:function(e){var a=e.target,t="checkbox"===a.type?a.checked:a.value,n=a.name;this.setState(Object(h.a)({},n,t))}},{key:"render",value:function(){return pe()||this.state.isLogged?i.a.createElement(se.a,{to:"/"}):i.a.createElement(ne.a,{textAlign:"center",verticalAlign:"middle",style:{height:"100vh"}},i.a.createElement(ne.a.Column,{style:{maxWidth:450}},i.a.createElement(ie.a.Group,{animation:"fade up",duration:800},i.a.createElement(re.a,{error:this.state.error,size:"large",onSubmit:this.handleSubmit},i.a.createElement(le.a,null,i.a.createElement(re.a.Input,{fluid:!0,icon:"user",iconPosition:"left",placeholder:"E-mail address",name:"userName",value:this.state.userName,onChange:this.handleInputChange}),i.a.createElement(re.a.Input,{fluid:!0,icon:"lock",iconPosition:"left",required:!0,placeholder:"Password",type:"password",name:"password",value:this.state.password,onChange:this.handleInputChange}),i.a.createElement(oe.a,{color:"teal",fluid:!0,size:"large"},"Login"),i.a.createElement(ce.a,{error:!0,header:"Error ao realizar login",content:this.state.error}))))))}}]),a}(i.a.Component),ve=function(e){function a(){return Object(o.a)(this,a),Object(s.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(m.a)(a,e),Object(c.a)(a,[{key:"componentDidMount",value:function(){localStorage.removeItem("AuthToken"),this.props.componentCallback(!1)}},{key:"render",value:function(){return i.a.createElement(se.a,{to:"/login"})}}]),a}(i.a.Component),Ee=function(e){function a(){var e;return Object(o.a)(this,a),(e=Object(s.a)(this,Object(u.a)(a).call(this))).state={isOpen:!1},e.buttonClickHandle=e.buttonClickHandle.bind(Object(d.a)(e)),e}return Object(m.a)(a,e),Object(c.a)(a,[{key:"buttonClickHandle",value:function(){console.log(this.state.isOpen),this.setState({isOpen:!this.state.isOpen})}},{key:"render",value:function(){return i.a.createElement("div",null)}}]),a}(i.a.Component),fe=(t(638),function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(s.a)(this,Object(u.a)(a).call(this,e))).state={filename:""},t.changedHandler=t.changedHandler.bind(Object(d.a)(t)),t}return Object(m.a)(a,e),Object(c.a)(a,[{key:"changedHandler",value:function(e){alert("Alterado"),this.setState({filename:e.target.value})}},{key:"render",value:function(){return i.a.createElement("div",null)}}]),a}(i.a.Component)),ge=t(353),Oe=function(e){var a=e.component,t=e.componentCallback,n=Object(ge.a)(e,["component","componentCallback"]);return i.a.createElement(se.b,Object.assign({},n,{render:function(e){return pe()?i.a.createElement(a,Object.assign({},e,{componentCallback:t})):i.a.createElement(se.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},Ce=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(s.a)(this,Object(u.a)(a).call(this,e))).handleSubmit=t.handleSubmit.bind(Object(d.a)(t)),t.handleInputChange=t.handleInputChange.bind(Object(d.a)(t)),t.state={error:!1,duration:800,oldPassword:"",newPassword:""},t}return Object(m.a)(a,e),Object(c.a)(a,[{key:"componentDidMount",value:function(){try{var e=pe();this.setState({userName:e.userName})}catch(a){}}},{key:"handleSubmit",value:function(e){var a=this;e.preventDefault(),fetch("http://localhost:3000/changepassword",{method:"post",credentials:"include",headers:{"Content-type":"application/x-www-form-urlencoded; charset=UTF-8",authorization:localStorage.getItem("AuthToken")},body:"oldPassword=".concat(this.state.oldPassword,"&newPassword=").concat(this.state.newPassword)}).then((function(e){if(200!==e.status)throw new Error(e.Message)})).catch((function(e){a.setState({error:!0})}))}},{key:"handleInputChange",value:function(e){var a=e.target,t="checkbox"===a.type?a.checked:a.value,n=a.name;this.setState(Object(h.a)({},n,t))}},{key:"render",value:function(){return i.a.createElement(ne.a,{textAlign:"center",verticalAlign:"middle",style:{height:"100vh"}},i.a.createElement(ne.a.Column,{style:{maxWidth:450}},i.a.createElement(ie.a.Group,{animation:"fade up",duration:800},i.a.createElement(re.a,{error:this.state.error,size:"large",onSubmit:this.handleSubmit},i.a.createElement(le.a,null,i.a.createElement(re.a.Input,{fluid:!0,icon:"user",iconPosition:"left",readOnly:!0,type:"text",name:"user",value:this.state.userName,onChange:this.handleInputChange}),i.a.createElement(re.a.Input,{fluid:!0,icon:"lock",iconPosition:"left",required:!0,placeholder:"Senha atual",type:"password",name:"oldPassword",value:this.state.oldPassword,onChange:this.handleInputChange}),i.a.createElement(re.a.Input,{fluid:!0,icon:"lock",iconPosition:"left",required:!0,placeholder:"Nova senha",type:"password",name:"newPassword",value:this.state.newPassword,onChange:this.handleInputChange}),i.a.createElement(oe.a,{color:"teal",fluid:!0,size:"large"},"Alterar Senha"),i.a.createElement(ce.a,{error:!0,header:"Error ao realizar login",content:this.state.error}))))))}}]),a}(i.a.Component),je=(t(639),t(63)),xe=t(355),ke=t(80),ye=t(357),Se=t(354),Ne=t(76),Ie=t(11),we=t(31),He=function(){return Object(Ne.split)((function(e){var a=e.query,t=Object(Ie.j)(a),n=t.kind,i=t.operation;return"OperationDefinition"===n&&"subscription"===i}),new Se.SubscriptionClient("wss://laudos.herokuapp.com/subscriptions",{reconnect:!0,connectionParams:{authToken:localStorage.getItem("AuthToken")||""}}),Object(xe.createUploadLink)({uri:"https://laudos.herokuapp.com/graphql",credentials:"include",headers:{authorization:localStorage.getItem("AuthToken")||""}}))},Te=function(e){var a=e.children;return i.a.createElement(we.a,{client:new ke.a({link:He(),cache:new ye.a})},a)},Pe=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(s.a)(this,Object(u.a)(a).call(this,e))).state={isAuthenticated:!1},t.componentCallback=t.componentCallback.bind(Object(d.a)(t)),t}return Object(m.a)(a,e),Object(c.a)(a,[{key:"componentCallback",value:function(e){this.setState({isAuthenticated:pe()})}},{key:"componentDidMount",value:function(){this.setState({isAuthenticated:pe})}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(je.a,null,this.state.isAuthenticated&&i.a.createElement("div",{className:"ui pointing secondary menu"},i.a.createElement(je.b,{className:"item",exact:!0,to:"/"},"Home"),i.a.createElement(je.b,{className:"item",exact:!0,to:"/porcliente"},"Por Cliente"),i.a.createElement(je.b,{className:"item",to:"/teste"},"Testes"),i.a.createElement(je.b,{className:"item",to:"/passwordchange"},"Alterar senha"),i.a.createElement(je.b,{className:"item",to:"/logoff"},"Logoff")),i.a.createElement(Te,null,i.a.createElement(se.d,null,i.a.createElement(se.b,{path:"/login"},i.a.createElement(be,{componentCallback:this.componentCallback})),i.a.createElement(Oe,{path:"/logoff",component:ve,componentCallback:this.componentCallback}),i.a.createElement(Oe,{path:"/teste",component:fe}),i.a.createElement(Oe,{path:"/passwordchange",component:Ce}),i.a.createElement(Oe,{path:"/porcliente",component:te}),i.a.createElement(Oe,{path:"/",component:Q})))),i.a.createElement(Ee,null))}}]),a}(n.Component);l.a.render(i.a.createElement(Pe,null),document.getElementById("root"))}},[[366,1,2]]]);
//# sourceMappingURL=main.449b5493.chunk.js.map