(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{365:function(e,a,t){e.exports=t(647)},375:function(e,a,t){},379:function(e,a){},381:function(e,a){},417:function(e,a){},418:function(e,a){},476:function(e,a,t){},477:function(e,a,t){},636:function(e,a,t){},647:function(e,a,t){"use strict";t.r(a);t(366);var n=t(0),r=t.n(n),i=t(90),l=t.n(i),o=t(24),s=t(25),c=t(26),u=t(27),d=t(21),m=t(28),h=t(37),p=t(161),b=t(75),v=t(59),E=t.n(v),f=t(657);function g(){var e=Object(b.a)(["\n    query listarExames{\n        listarExames{\n            id,\n            protocolo,\n            dataExame,\n            nome,\n            dataCadastro,\n            exameUrl,\n            laudoUrl\n        }\n    }\n"]);return g=function(){return e},e}var C=E()(g()),O=function(e){var a=e.children;return r.a.createElement(f.a,{query:C},a)},x=t(662),j=t(659),y=t(664),k=t(162),N=(t(375),t(327)),S=t(79),w=t(328),I=t.n(w),H=Object({NODE_ENV:"production",PUBLIC_URL:""}).PUBLIC_KEY||"-----BEGIN PUBLIC KEY-----\nMFwwDQYJKoZIhvcNAQEBBQADSwAwSAJBALns1DW2lVs/Cjk9nVxBzG8Gn0QIF8wH\n1LotLwuOk+lgVXZiXzkbMXxDzj3rEP0aVY0ATtqWxWcjurJXwqViLF0CAwEAAQ==\n-----END PUBLIC KEY-----",P={algorithm:"RS256",issuer:"laudos"};function T(){var e=localStorage.getItem("AuthToken");if(!e)return!1;try{return I.a.verify(e,H,P)}catch(a){return e&&localStorage.removeItem("AuthToken"),!1}}var D=function(e){var a=e.component,t=e.componentCallback,n=Object(N.a)(e,["component","componentCallback"]);return r.a.createElement(S.b,Object.assign({},n,{render:function(e){return T()?r.a.createElement(a,Object.assign({},e,{componentCallback:t})):r.a.createElement(S.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},A=(t(476),function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(c.a)(this,Object(u.a)(a).call(this,e))).dragHandler=t.dragHandler.bind(Object(d.a)(t)),t.onChangeHandler=t.onChangeHandler.bind(Object(d.a)(t)),t.state={filename:"",isOver:!1},t}return Object(m.a)(a,e),Object(s.a)(a,[{key:"dragHandler",value:function(e){if(e.preventDefault(),e.stopPropagation(),console.log(e.type),"drop"===e.type||"dragleave"===e.type?this.setState({isOver:!1}):this.setState({isOver:!0}),"drop"===e.type&&1===e.dataTransfer.items.length){var a=e.dataTransfer.files[0];a&&this.updateFile(a)}}},{key:"onChangeHandler",value:function(e){this.setState({filename:e.target.files[0].name}),this.props.onChange&&this.props.onChange(e)}},{key:"render",value:function(){return r.a.createElement("div",{className:this.state.isOver?"upload-box has-advanced-upload is-dragover":"upload-box has-advanced-upload",onDrag:this.dragHandler,onDragStart:this.dragHandler,onDragEnd:this.dragHandler,onDragOver:this.dragHandler,onDragEnter:this.dragHandler,onDragLeave:this.dragHandler,onDrop:this.dragHandler},r.a.createElement("i",{"aria-hidden":"true",className:"huge upload icon"}),r.a.createElement("div",null,r.a.createElement("input",{id:"file",type:"file",multiple:!1,required:!0,onChange:this.onChangeHandler}),r.a.createElement("label",{htmlFor:"file"},this.state.filename?this.state.filename:r.a.createElement("div",null,r.a.createElement("strong",null,"Selecione um arquivo"),r.a.createElement("span",null," ou solte o aqui")))))}}]),a}(r.a.Component)),F=t(119),U=E()("\n    mutation salvarExame($exame: ExameInput!){\n        salvarExame(exame: $exame){\n            id,\n            protocolo,\n            nome,\n            dataExame\n        }\n    }\n"),L=function(e){var a=e.children,t=Object(F.a)(U),n=Object(k.a)(t,2);return a(n[0],n[1])},z=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(c.a)(this,Object(u.a)(a).call(this,e))).handleFile=t.handleFile.bind(Object(d.a)(t)),t.handleInputChange=t.handleInputChange.bind(Object(d.a)(t)),t.submitHandle=t.submitHandle.bind(Object(d.a)(t)),t.state={nome:"",protocolo:"",dataExame:"",possuiMarcapasso:!1,observacoes:"",exameFile:null,processando:!1},t}return Object(m.a)(a,e),Object(s.a)(a,[{key:"handleFile",value:function(e){var a=this,t=e.target,n=(t.validity,Object(k.a)(t.files,1)[0]);if(FileReader&&n){var r=new FileReader;r.onloadend=function(){a.setState({exameFile:n})},r&&r.readAsDataURL(n)}}},{key:"handleInputChange",value:function(e){var a=e.target,t="checkbox"===a.type?a.checked:a.value,n=a.name;this.setState(Object(h.a)({},n,t))}},{key:"submitHandle",value:function(e){var a=this;e.preventDefault(),this.setState({processando:!0}),this.props.mutation({variables:{exame:{exameFile:this.state.exameFile,protocolo:this.state.protocolo,dataExame:this.state.dataExame,nome:this.state.nome,possuiMarcapasso:this.state.possuiMarcapasso,observacoes:this.state.observacoes}}}).then((function(e){a.props.onSubmited&&a.props.onSubmited({status:"Sucesso",result:e.data.salvarExame,message:"Novo cadastro de exame para ".concat(a.state.nome," finalizado com sucesso.")})})).catch((function(e){a.props.onSubmited&&a.props.onSubmited({status:"Sucesso",result:e,message:"Ocorreu um erro ao realizar o cadastro do exame."})}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("form",{className:"ui form dimmable",onSubmit:this.submitHandle},r.a.createElement("div",{className:"ui inverted dimmer ".concat(this.state.processando?"active":"")},r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"ui text loader"},"Salvando Registro"))),r.a.createElement("div",{className:"field"},r.a.createElement(A,{onChange:this.handleFile})),r.a.createElement("div",{className:"fields"},r.a.createElement("div",{className:"inline fluid field"},r.a.createElement("label",null,"Protocolo:"),r.a.createElement("input",{type:"text",name:"protocolo",required:!0,value:this.state.protocolo,onChange:this.handleInputChange})),r.a.createElement("div",{className:"inline field"},r.a.createElement("label",null,"Data Exame"),r.a.createElement("input",{name:"dataExame",type:"date",required:!0,value:this.state.dataExame,onChange:this.handleInputChange}))),r.a.createElement("div",{className:"field"},r.a.createElement("label",null,"Nome"),r.a.createElement("input",{className:"ui input",type:"text",required:!0,name:"nome",value:this.state.nome,onChange:this.handleInputChange})),r.a.createElement("h3",{className:"ui dividing header"},"Informa\xe7\xf5es Opcionais"),r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"ui toggle checkbox"},r.a.createElement("input",{type:"checkbox",tabIndex:"0",value:this.state.possuiMarcapasso,onChange:this.handleInputChange}),r.a.createElement("label",null,"Possui Marca-passo?"))),r.a.createElement("div",{className:"field"},r.a.createElement("label",null,"Outras Observa\xe7\xf5es:"),r.a.createElement("textarea",{id:"info",rows:"5",name:"observacoes",value:this.state.observacoes,onChange:this.handleInputChange})),r.a.createElement("div",{className:"field"},r.a.createElement("input",{type:"submit",className:"ui fluid green button",value:"Cadastrar"}))))}}]),a}(r.a.Component),M=function(e){var a=e.onSubmited;return r.a.createElement(L,null,(function(e,t){var n=Object.assign({},t);return r.a.createElement(z,Object.assign({onSubmited:a,mutation:e},n))}))};t(477);function q(){var e=Object(b.a)(["\n    subscription onLaudoSalvo($id: ID){\n        laudoSalvo(id: $id){\n            id,\n            nome,\n            protocolo,\n            dataExame\n            dataCadastro,\n            exameUrl,\n            laudoUrl\n        }\n    }\n"]);return q=function(){return e},e}var R=E()(q()),B=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(c.a)(this,Object(u.a)(a).call(this,e))).buttonClickHandler=t.buttonClickHandler.bind(Object(d.a)(t)),t.cadastrarExameCloseHandler=t.cadastrarExameCloseHandler.bind(Object(d.a)(t)),t.modoExibicao=t.modoExibicao.bind(Object(d.a)(t)),t.handleInputChange=t.handleInputChange.bind(Object(d.a)(t)),t.filtrar=t.filtrar.bind(Object(d.a)(t)),t.submitHandle=t.submitHandle.bind(Object(d.a)(t)),t.cadastroFinalizadoHandler=t.cadastroFinalizadoHandler.bind(Object(d.a)(t)),t.state={isCadastrarExameOpen:!1,isCadastroFinalizadoModalOpen:!1,exibicaoTabela:!0,filter:"",cadastraExameResult:null},t.props.subscribeToMore({document:R,variables:{id:1},updateQuery:function(e,a){var t=a.subscriptionData;if(!t.data)return e;var n=t.data.laudoSalvo;return e.listarExames.find((function(e){return e.id===n.id}))?e:Object.assign({},e,{listarExames:Object.assign([],e.listarExames,[].concat(Object(p.a)(e.listarExames),[n]))})}}),t}return Object(m.a)(a,e),Object(s.a)(a,[{key:"buttonClickHandler",value:function(){this.setState({isCadastrarExameOpen:!this.state.isCadastrarExameOpen})}},{key:"cadastrarExameCloseHandler",value:function(){this.setState({isCadastrarExameOpen:!1})}},{key:"modoExibicao",value:function(e){this.setState({exibicaoTabela:e})}},{key:"handleInputChange",value:function(e){var a=e.target,t="checkbox"===a.type?a.checked:a.value,n=a.name;this.setState(Object(h.a)({},n,t))}},{key:"filtrar",value:function(e){return e.protocolo.match(this.state.filter)||e.nome.match(this.state.filter)}},{key:"submitHandle",value:function(e){this.setState({isCadastrarExameOpen:!1,isCadastroFinalizadoModalOpen:!0,cadastraExameResult:e})}},{key:"cadastroFinalizadoHandler",value:function(){this.setState({isCadastroFinalizadoModalOpen:!1})}},{key:"render",value:function(){var e,a,t,n=this;if(this.props.loading)return r.a.createElement("div",null,"Loading...");if(this.props.error)return r.a.createElement("div",null,"Erro...");this.props.data.listarExames;return this.state.filter&&this.resultList.filter(this.filtrar),r.a.createElement("div",null,r.a.createElement("div",{className:"ui menu"},r.a.createElement("a",{className:"item",onClick:this.buttonClickHandler},r.a.createElement("i",{"aria-hidden":"true",className:"add icon"}),"Novo Exame"),r.a.createElement("div",{className:"right menu"},r.a.createElement(x.a.Item,{active:!this.state.exibicaoTabela,onClick:function(){return n.modoExibicao(!1)}},r.a.createElement("i",{"aria-hidden":"true",className:"icon list"})),r.a.createElement(x.a.Item,{active:this.state.exibicaoTabela,onClick:function(){return n.modoExibicao(!0)}},r.a.createElement("i",{"aria-hidden":"true",className:"icon th"})),r.a.createElement("div",{className:"item"},r.a.createElement("div",{className:"ui icon input"},r.a.createElement("input",{type:"text",placeholder:"Filtro",name:"filter",value:this.state.filter,onChange:this.handleInputChange}),r.a.createElement("i",{"aria-hidden":"true",className:"search icon"}))))),r.a.createElement("div",{className:"ui segment"},r.a.createElement("div",null,"Total de Registros: ",this.props.data.listarExames.length),r.a.createElement("div",{className:"tabelaContainer"},r.a.createElement("div",{className:"ui doubling four stackable tiny cards"},this.props.data.listarExames.map((function(e){return r.a.createElement("div",{key:e.id,className:"ui yellow card fade left"},r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"light label inline"},r.a.createElement("label",null,"Protocolo:"),r.a.createElement("div",null,e.protocolo)),r.a.createElement("div",{className:"label inline"},e.nome)),r.a.createElement("div",{className:"meta"},r.a.createElement("div",{className:"ui ribbon label"},"Cadastro Realizado em ".concat(e.dataCadastro))),r.a.createElement("div",{className:"description bottom"},e.laudoUrl?r.a.createElement("a",{href:e.laudoUrl},"Baixar Laudo"):r.a.createElement("a",{href:e.exameUrl},"Baixar Exame"))),r.a.createElement("div",{className:"extra content"},r.a.createElement("button",{className:"ui primary small button btn-default"},"Ver"),r.a.createElement("button",{className:"ui small button btn-default"},"Remover")))}))))),r.a.createElement(j.a,{onClose:this.cadastrarExameCloseHandler,open:this.state.isCadastrarExameOpen},r.a.createElement(y.a,{icon:"upload",content:"Cadastrar novo exame"}),r.a.createElement(j.a.Content,null,r.a.createElement(M,{onSubmited:this.submitHandle}))),r.a.createElement(j.a,{onClose:this.cadastroFinalizadoHandler,open:this.state.isCadastroFinalizadoModalOpen},r.a.createElement(y.a,{icon:"Sucesso"===(null===(e=this.state)||void 0===e?void 0:null===(a=e.cadastraExameResult)||void 0===a?void 0:a.status)?"green icon check":"red icon thumbs down"}),r.a.createElement(j.a.Content,null,r.a.createElement("div",null,null===(t=this.state.cadastraExameResult)||void 0===t?void 0:t.message))))}}]),a}(r.a.Component),V=function(){return r.a.createElement(O,null,(function(e){var a=Object.assign({},e);return r.a.createElement(B,a)}))};function Q(){var e=Object(b.a)(["\n    query getCompanies{\n        getCompanies{\n            id\n            name\n        }\n    }\n"]);return Q=function(){return e},e}var J=E()(Q()),$=function(e){var a=e.children;return r.a.createElement(f.a,{query:J},a)},G=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(c.a)(this,Object(u.a)(a).call(this,e))).selectionChangedHandler=t.selectionChangedHandler.bind(Object(d.a)(t)),t}return Object(m.a)(a,e),Object(s.a)(a,[{key:"selectionChangedHandler",value:function(e){this.props.onSelectionChanged&&this.props.onSelectionChanged(e)}},{key:"render",value:function(){var e=this;return this.props.loading?r.a.createElement("div",null,"Loading..."):this.props.error?r.a.createElement("div",null,"Erro..."):r.a.createElement("div",{role:"list",className:"ui animated divided relaxed selection huge list"},this.props.data.getCompanies.map((function(a){return r.a.createElement("div",{role:"listitem",className:"item",onClick:e.selectionChangedHandler},a.name)})))}}]),a}(r.a.Component),W=function(e){var a=Object.assign({},e);return r.a.createElement($,null,(function(e){var t=Object.assign({},e);return r.a.createElement(G,Object.assign({},t,a))}))};function Y(){var e=Object(b.a)(["\n    query listarExamesPorCliente($companyId: ID){\n        listarExamesPorCliente(companyId: $companyId){\n            id,\n            protocolo,\n            dataExame,\n            nome,\n            dataCadastro,\n            exameUrl,\n            laudoUrl\n        }\n    }\n"]);return Y=function(){return e},e}var K=E()(Y()),X=function(e){var a=e.children,t=e.variables;return r.a.createElement(f.a,{variables:t,query:K},a)},_=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(c.a)(this,Object(u.a)(a).call(this,e))).filtrar=t.filtrar.bind(Object(d.a)(t)),t.state={exibicaoTabela:!0,filter:""},console.log(1),t}return Object(m.a)(a,e),Object(s.a)(a,[{key:"componentDidMount",value:function(){this.props.refetch(),console.log(1),this.props.subscribeToMore({document:R,variables:{id:1},updateQuery:function(e,a){var t=a.subscriptionData;if(!t.data)return e;var n=t.data.laudoSalvo;return e.listarExames.find((function(e){return e.id===n.id}))?e:Object.assign({},e,{listarExames:Object.assign([],e.listarExames,[].concat(Object(p.a)(e.listarExames),[n]))})}})}},{key:"filtrar",value:function(e){return e.protocolo.match(this.state.filter)||e.nome.match(this.state.filter)}},{key:"render",value:function(){var e,a;if(this.props.loading)return r.a.createElement("div",null,"Loading...");if(this.props.error)return r.a.createElement("div",null,"Erro...");var t=this.props.data.listarExamesPorCliente;return this.state.filter&&t&&(t=t.filter(this.filtrar)),r.a.createElement("div",{className:"ui segment"},r.a.createElement("div",null,"Total de Registros: ",this.props.data.listarExamesPorCliente.length),r.a.createElement("div",null,"Empresa: ",null!==(e=null===(a=this.props.selectedCompany)||void 0===a?void 0:a.name)&&void 0!==e?e:"Todas"),r.a.createElement("div",{className:"tabelaContainer"},r.a.createElement("div",{className:"ui doubling four stackable tiny cards"},this.props.data.listarExamesPorCliente.map((function(e){return r.a.createElement("div",{key:e.id,className:"ui yellow card fade left"},r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"light label inline"},r.a.createElement("label",null,"Protocolo:"),r.a.createElement("div",null,e.protocolo)),r.a.createElement("div",{className:"label inline"},e.nome)),r.a.createElement("div",{className:"meta"},r.a.createElement("div",{className:"ui ribbon label"},"Cadastro Realizado em ".concat(e.dataCadastro))),r.a.createElement("div",{className:"description bottom"},e.laudoUrl?r.a.createElement("a",{href:e.laudoUrl},"Baixar Laudo"):r.a.createElement("a",{href:e.exameUrl},"Baixar Exame"))),r.a.createElement("div",{className:"extra content"},r.a.createElement("button",{className:"ui primary small button btn-default"},"Ver"),r.a.createElement("button",{className:"ui small button btn-default"},"Remover")))})))))}}]),a}(r.a.Component),Z=function(e){var a=Object.assign({},e);return r.a.createElement(X,{variables:a.variables},(function(e){var t=Object.assign({},e);return r.a.createElement(_,Object.assign({},t,a))}))},ee=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(c.a)(this,Object(u.a)(a).call(this,e))).modoExibicao=t.modoExibicao.bind(Object(d.a)(t)),t.handleInputChange=t.handleInputChange.bind(Object(d.a)(t)),t.companySelectionChanged=t.companySelectionChanged.bind(Object(d.a)(t)),t.state={exibicaoTabela:!0,selectedCompany:null},t}return Object(m.a)(a,e),Object(s.a)(a,[{key:"componentDidMount",value:function(){this.setState({exibicaoTabela:!0})}},{key:"modoExibicao",value:function(e){this.setState({exibicaoTabela:e})}},{key:"handleInputChange",value:function(e){var a=e.target,t="checkbox"===a.type?a.checked:a.value,n=a.name;this.setState(Object(h.a)({},n,t))}},{key:"companySelectionChanged",value:function(e){this.setState({selectedCompany:e})}},{key:"getVariableValues",value:function(){var e,a,t;return{companyId:null!==(e=null===(a=this.state)||void 0===a?void 0:null===(t=a.selectedCompany)||void 0===t?void 0:t.id)&&void 0!==e?e:null}}},{key:"render",value:function(){var e,a,t=this;return r.a.createElement("div",null,r.a.createElement("div",{className:"ui menu"},r.a.createElement("div",{className:"right menu"},r.a.createElement(x.a.Item,{active:!this.state.exibicaoTabela,onClick:function(){return t.modoExibicao(!1)}},r.a.createElement("i",{"aria-hidden":"true",className:"icon list"})),r.a.createElement(x.a.Item,{active:this.state.exibicaoTabela,onClick:function(){return t.modoExibicao(!0)}},r.a.createElement("i",{"aria-hidden":"true",className:"icon th"})),r.a.createElement("div",{className:"item"},r.a.createElement("div",{className:"ui icon input"},r.a.createElement("input",{type:"text",placeholder:"Filtro",name:"filter",value:this.state.filter,onChange:this.handleInputChange}),r.a.createElement("i",{"aria-hidden":"true",className:"search icon"}))))),r.a.createElement("div",{className:"ui divided grid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"four wide column"},r.a.createElement("div",{className:"ui segment"},r.a.createElement(W,{onSelectionChanged:this.companySelectionChanged}))),r.a.createElement("div",{className:"twelve wide column"},r.a.createElement(Z,{variables:{companyId:null===(e=this.state)||void 0===e?void 0:null===(a=e.selectedCompany)||void 0===a?void 0:a.id},selectedCompany:this.state.selectedCompany,exibicaoTabela:this.state.exibicaoTabela})))))}}]),a}(r.a.Component),ae=function(){return r.a.createElement(ee,null)},te=t(665),ne=t(668),re=t(658),ie=t(666),le=t(661),oe=t(660),se=t(92),ce=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(c.a)(this,Object(u.a)(a).call(this,e))).handleSubmit=t.handleSubmit.bind(Object(d.a)(t)),t.handleInputChange=t.handleInputChange.bind(Object(d.a)(t)),t.state={error:!1,duration:800,userName:"",password:"",isLogged:!1},t}return Object(m.a)(a,e),Object(s.a)(a,[{key:"handleSubmit",value:function(e){var a=this;e.preventDefault(),fetch("".concat(se.appUrl,"/auth"),{method:"post",credentials:"include",headers:{"Content-type":"application/x-www-form-urlencoded; charset=UTF-8"},body:"userName=".concat(this.state.userName,"&password=").concat(this.state.password)}).then((function(e){if(200===e.status)return e.json();throw new Error(e.Message)}),(function(e){return a.setState({error:!0}),e})).then((function(e){a.setState({isLogged:!0}),localStorage.setItem("AuthToken",e.token),a.props.componentCallback(!0)})).catch((function(e){a.setState({error:!0})}))}},{key:"handleInputChange",value:function(e){var a=e.target,t="checkbox"===a.type?a.checked:a.value,n=a.name;this.setState(Object(h.a)({},n,t))}},{key:"render",value:function(){return T()||this.state.isLogged?r.a.createElement(S.a,{to:"/"}):r.a.createElement(te.a,{textAlign:"center",verticalAlign:"middle",style:{height:"100vh"}},r.a.createElement(te.a.Column,{style:{maxWidth:450}},r.a.createElement(ne.a.Group,{animation:"fade up",duration:800},r.a.createElement(re.a,{error:this.state.error,size:"large",onSubmit:this.handleSubmit},r.a.createElement(ie.a,null,r.a.createElement(re.a.Input,{fluid:!0,icon:"user",iconPosition:"left",placeholder:"E-mail address",name:"userName",value:this.state.userName,onChange:this.handleInputChange}),r.a.createElement(re.a.Input,{fluid:!0,icon:"lock",iconPosition:"left",required:!0,placeholder:"Password",type:"password",name:"password",value:this.state.password,onChange:this.handleInputChange}),r.a.createElement(le.a,{color:"teal",fluid:!0,size:"large"},"Login"),r.a.createElement(oe.a,{error:!0,header:"Error ao realizar login",content:this.state.error}))))))}}]),a}(r.a.Component),ue=function(e){function a(){return Object(o.a)(this,a),Object(c.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(m.a)(a,e),Object(s.a)(a,[{key:"componentDidMount",value:function(){localStorage.removeItem("AuthToken"),this.props.componentCallback(!1)}},{key:"render",value:function(){return r.a.createElement(S.a,{to:"/login"})}}]),a}(r.a.Component),de=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(c.a)(this,Object(u.a)(a).call(this,e))).handleSubmit=t.handleSubmit.bind(Object(d.a)(t)),t.handleInputChange=t.handleInputChange.bind(Object(d.a)(t)),t.state={error:!1,duration:800,oldPassword:"",newPassword:""},t}return Object(m.a)(a,e),Object(s.a)(a,[{key:"componentDidMount",value:function(){try{var e=T();this.setState({userName:e.userName})}catch(a){}}},{key:"handleSubmit",value:function(e){var a=this;e.preventDefault(),fetch("".concat(se.appUrl,"/changepassword"),{method:"post",credentials:"include",headers:{"Content-type":"application/x-www-form-urlencoded; charset=UTF-8",authorization:localStorage.getItem("AuthToken")},body:"oldPassword=".concat(this.state.oldPassword,"&newPassword=").concat(this.state.newPassword)}).then((function(e){if(200!==e.status)throw new Error(e.Message)})).catch((function(e){a.setState({error:!0})}))}},{key:"handleInputChange",value:function(e){var a=e.target,t="checkbox"===a.type?a.checked:a.value,n=a.name;this.setState(Object(h.a)({},n,t))}},{key:"render",value:function(){return r.a.createElement(te.a,{textAlign:"center",verticalAlign:"middle",style:{height:"100vh"}},r.a.createElement(te.a.Column,{style:{maxWidth:450}},r.a.createElement(ne.a.Group,{animation:"fade up",duration:800},r.a.createElement(re.a,{error:this.state.error,size:"large",onSubmit:this.handleSubmit},r.a.createElement(ie.a,null,r.a.createElement(re.a.Input,{fluid:!0,icon:"user",iconPosition:"left",readOnly:!0,type:"text",name:"user",value:this.state.userName,onChange:this.handleInputChange}),r.a.createElement(re.a.Input,{fluid:!0,icon:"lock",iconPosition:"left",required:!0,placeholder:"Senha atual",type:"password",name:"oldPassword",value:this.state.oldPassword,onChange:this.handleInputChange}),r.a.createElement(re.a.Input,{fluid:!0,icon:"lock",iconPosition:"left",required:!0,placeholder:"Nova senha",type:"password",name:"newPassword",value:this.state.newPassword,onChange:this.handleInputChange}),r.a.createElement(le.a,{color:"teal",fluid:!0,size:"large"},"Alterar Senha"),r.a.createElement(oe.a,{error:!0,header:"Error ao realizar login",content:this.state.error}))))))}}]),a}(r.a.Component),me=(t(636),t(62)),he=t(354),pe=t(80),be=t(356),ve=t(353),Ee=t(76),fe=t(11),ge=t(31),Ce=function(){return Object(Ee.split)((function(e){var a=e.query,t=Object(fe.j)(a),n=t.kind,r=t.operation;return"OperationDefinition"===n&&"subscription"===r}),new ve.SubscriptionClient("".concat(se.wsUrl,"/subscriptions"),{reconnect:!0,connectionParams:{authToken:localStorage.getItem("AuthToken")||""}}),Object(he.createUploadLink)({uri:"".concat(se.appUrl,"/graphql"),credentials:"include",headers:{authorization:localStorage.getItem("AuthToken")||""}}))},Oe=function(e){var a=e.children;return r.a.createElement(ge.a,{client:new pe.a({link:Ce(),cache:new be.a})},a)},xe=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(c.a)(this,Object(u.a)(a).call(this,e))).state={isAuthenticated:!1},t.componentCallback=t.componentCallback.bind(Object(d.a)(t)),t}return Object(m.a)(a,e),Object(s.a)(a,[{key:"componentCallback",value:function(e){this.setState({isAuthenticated:T()})}},{key:"componentDidMount",value:function(){this.setState({isAuthenticated:T()})}},{key:"render",value:function(){return r.a.createElement(me.a,null,this.state.isAuthenticated&&r.a.createElement("div",{className:"ui pointing secondary menu"},r.a.createElement(me.b,{className:"item",exact:!0,to:"/"},"Home"),r.a.createElement(me.b,{className:"item",exact:!0,to:"/porcliente"},"Por Cliente"),r.a.createElement(me.b,{className:"item",to:"/teste"},"Testes"),r.a.createElement(me.b,{className:"item",to:"/passwordchange"},"Alterar senha"),r.a.createElement(me.b,{className:"item",to:"/logoff"},"Logoff")),r.a.createElement(Oe,null,r.a.createElement(S.d,null,r.a.createElement(S.b,{path:"/login"},r.a.createElement(ce,{componentCallback:this.componentCallback})),r.a.createElement(D,{path:"/logoff",component:ue,componentCallback:this.componentCallback}),r.a.createElement(D,{path:"/passwordchange",component:de}),r.a.createElement(D,{path:"/porcliente",component:ae}),r.a.createElement(D,{path:"/",component:V}))))}}]),a}(r.a.Component);l.a.render(r.a.createElement(xe,null),document.getElementById("root"))},92:function(e){e.exports=JSON.parse('{"appUrl":"https://laudos.herokuapp.com","wsUrl":"wss://laudos.herokuapp.com"}')}},[[365,1,2]]]);
//# sourceMappingURL=main.e367fac1.chunk.js.map